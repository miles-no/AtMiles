extends layout

block css
    link(rel='stylesheet', href="//cdnjs.cloudflare.com/ajax/libs/three.js/r68/three.min.js")

block scripts
    script(src='/javascripts/homepageController.js')

block content
    row#atMilesPage(ng-app="AtMiles" ng-controller="homepageController")
        div.contain-to-grid
            nav.miles-top-bar
                section
                    ul.left
                            img.miles-top-bar-image(src="../images/MilesIcon-01.png")
                    ul.right
                        a.signin-button(ng-show="isAuthenticated == false" ng-click="login()")
                            span.text-left SIGN IN
                        a.signout-button(ng-show="isAuthenticated == true" ng-click="logout()") SIGN OUT
        #firstPage.row(ng-show="isAuthenticated == false")
            .row.banner
                .show-for-medium-up
                    .medium-12.large-12.medium-centered.banner.columns.text-center
                        img(src="../images/MilesHomeImage.png" height="366px")
                    .centered-button-container
                        a.button.medium.radius(ng-click="login()") LOGIN AND SEARCH
                .show-for-small-only
                    .small-12.small-centered.columns
                        img.twelve-columns(src="../images/HomeSceneImageMobile-01.jpg" height="153px" width="100%")
            .row.small-12.small-centered.banner2.columns
                h3
                    span.banner2-text @Miles let you quickly search for consultants within Miles organisation. Search for name, phone number and office location.
                    br
                    br
                    span.banner2-text Sign in with your Miles google account, and you are ready to go!
                    br
                    br
                    img.banner2-image(src="../images/BoyIcon-01.svg" height="96px" width="96px")
                    img.banner2-image(src="../images/GirlIcon-01.svg" height="96px" width="96px")
            .row.small-12.small-centered.banner3.columns
                span.banner3-text Miles AS Copyright 2014&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;
                a.banner3-link(href="http://www.miles.no") www.miles.no
                span.banner3-text &nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;
                a.banner3-link(href="mailto:webmaster@miles.no") webmaster@miles.no
        #mainContent.row(ng-show="isAuthenticated")
            .large-12.columns
            .row
                .large-12.small-12.columns
                    div(ng-repeat="error in errors")
                        p.error
                            {{error}}
            .row
                .small-12.main-header.columns
                    h1.main-header-text Make contact
                    h3.main-header-text with other Miles consultants !
                    h5.main-header-text Search for name, last name or find consultants from the list below.
                    .row
                        .small-12.columns
                            .small-12.medium-9.columns.small-centered.main-header-search-container
                                .small-8.medium-10.large-10.columns
                                    label
                                        input.left.input-lg.main-header-search-input(ng-keyup="search()" ng-model="queryTerm" ng-model-options="{debounce: 250}" type="text" placeholder="Search for employee..")
                                .small-4.medium-2.large-2.columns
                                    label
                                        a.main-header-search-button.postfix(ng-click="search()") &nbsp;Search
                                div(style="clear:both;")

                    //.small-9.small-centered.main-page-search-box.columns
                    //    input.left.input-lg.main-header-search-input(ng-keyup="search()" ng-model="queryTerm" ng-model-options="{debounce: 250}" type="text" placeholder="Search for employee..")
                    //    a.main-header-search-button(ng-click="search()") &nbsp;Search
            .row.contact-results
                .small-12.columns.small-centered.text-center
                        img.busy-image(src="../images/busy.gif" ng-show="dataLoading")
                div.result-text(ng-show="searchPerformed == true") Miles Consultans {{searchResult.Results.length}} / {{totalHits}}
                ul.large-block-grid-3.medium-block-grid-2.small-block-grid-1.contact-grid(ng-show="searchResult.Results.length > 0")
                    li.contact-grid-item(ng-repeat="item in searchResult.Results")
                        div.contact-card
                            img.contact-image(src="{{item.Thumb}}")
                            a(ng-href="{{apiRoot}}api/company/miles/vcard/{{item.GlobalId}}")
                                img.contact-vcard.right(title="Download vCard")
                            div.small-7.contact-section.columns
                                b.contact-text {{item.Name}}
                                p.contact-text {{item.JobTitle}}
                                a.contact-email(href="tel:{{item.PhoneNumber}}"){{item.PhoneNumber}}
                                br
                                a.contact-email(href="mailto:{{item.Email}}"){{item.Email}}
                .row
                    .small-12.small-text-center
                        a.more-button.text-center(ng-show="moreSearchResults" href="#" ng-click="search('true'); $event.preventDefault();") SE FLERE
            //.row
            //    .large-4.small-12.columns(ng-show="searchResult.Results.length > 0")
            //        table.table.table-striped
            //            tr(ng-repeat="item in searchResult.Results" ng-click="showDetails(item); $event.preventDefault();")
            //                td
            //                    img(src="{{item.Thumb}}")
            //                td
            //                    <b>{{item.Name}}</b>
            //                    | {{item.OfficeName}} - {{item.JobTitle}}
            //            tr(ng-show="moreSearchResults")
            //                td
            //                td
            //                    a.center(href="#" ng-click="search('true'); $event.preventDefault();") {{moreSearchResults}} More...
            //
            //    .large-8.small-12.columns.panel(ng-show="selectedEmployee")
            //        h3(ng-bind="selectedEmployee.name")
            //        .row
            //            div.large-12.columns(ng-hide="editContactInformationEnabled")
            //                table.large-6.columns.table
            //                    tr
            //                        td Email
            //                        td {{selectedEmployee.email}}
            //                    tr
            //                        td Phone
            //                        td {{selectedEmployee.phoneNumber}}
            //                    tr
            //                        td Address
            //                        td {{selectedEmployee.address}}
            //                a.large-2.columns.button.tiny.radius.left(href="#" ng-click="editContactInformationEnabled=!editContactInformationEnabled; $event.preventDefault();") Edit
            //            div.large-12.columns(ng-show="editContactInformationEnabled" )
            //                table.large-6.columns.table
            //                    tr
            //                        td Email
            //                        td
            //                            input.input-lg(ng-model="selectedEmployee.email")
            //                    tr
            //                        td Phone
            //                        td
            //                            input.input-lg(ng-model="selectedEmployee.phoneNumber")
            //                    tr
            //                        td Address
            //                        td
            //                            input.input-lg(ng-model="selectedEmployee.address")
            //                a.large-2.columns.button.tiny.radius.left(href="#" ng-click="editContactInformationEnabled=!editContactInformationEnabled; $event.preventDefault();") Done
            //
            //
            //            p.large-12.columns(ng-bind="selectedEmployee.local.description")
            //            .large-12.columns(ng-repeat="g in selectedEmployee.local.competencygroups")
            //                div
            //                    hr
            //                    b {{g.key}}
            //                    br
            //
            //                .left
            //                    .label.round(ng-repeat="comp in g.competencies") {{comp}}&nbsp;


